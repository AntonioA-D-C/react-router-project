{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anton\\\\Documents\\\\react-project\\\\new-react-frontend\\\\frontend\\\\src\\\\components\\\\EventForm.jsx\",\n  _s = $RefreshSig$();\nimport { Form, useActionData, useNavigate, useNavigation } from 'react-router-dom';\nimport classes from './EventForm.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EventForm({\n  method,\n  event\n}) {\n  _s();\n  const data = useActionData();\n  const navigate = useNavigate();\n  const navigation = useNavigation();\n  const isSubmitting = navigation.state === \"submitting\";\n  console.log(data);\n  function cancelHandler() {\n    navigate('..');\n  }\n  console.log(\"yo tengo una mente con 4 computadoras\");\n  let url = \"http://localhost:8080/events\";\n  return /*#__PURE__*/_jsxDEV(Form, {\n    method: method,\n    className: classes.form,\n    children: [data && data.errors && /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: Object.values(data.errors).map(err => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: err\n      }, err, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 7\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"title\",\n        type: \"text\",\n        name: \"title\",\n        required: true,\n        defaultValue: event ? event.title : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"image\",\n        children: \"Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"image\",\n        type: \"url\",\n        name: \"image\",\n        required: true,\n        defaultValue: event ? event.image : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"date\",\n        children: \"Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"date\",\n        type: \"date\",\n        name: \"date\",\n        required: true,\n        defaultValue: event ? event.date : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"description\",\n        name: \"description\",\n        rows: \"5\",\n        required: true,\n        defaultValue: event ? event.description : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.actions,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: cancelHandler,\n        disabled: isSubmitting,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: isSubmitting,\n        children: isSubmitting ? \"Submitting...\" : \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}\n_s(EventForm, \"4RpZWvb1/vq18jUIhqcDrPiPElE=\", false, function () {\n  return [useActionData, useNavigate, useNavigation];\n});\n_c = EventForm;\nexport default EventForm;\nexport async function action({\n  request,\n  params\n}) {\n  const method = method;\n  const data = await request.formData();\n  const eventData = {\n    title: data.get('title'),\n    image: data.get('image'),\n    date: data.get('date'),\n    description: data.get('description')\n  };\n  const response = await fetch('http://localhost:8080/events', {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(eventData)\n  });\n  if (response.status === 422) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({\n      message: \"Could not save event\"\n    }, {\n      status: 500\n    });\n  }\n  return redirect('/events');\n}\nvar _c;\n$RefreshReg$(_c, \"EventForm\");","map":{"version":3,"names":["Form","useActionData","useNavigate","useNavigation","classes","jsxDEV","_jsxDEV","EventForm","method","event","_s","data","navigate","navigation","isSubmitting","state","console","log","cancelHandler","url","className","form","children","errors","Object","values","map","err","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","type","name","required","defaultValue","title","image","date","rows","description","actions","onClick","disabled","_c","action","request","params","formData","eventData","get","response","fetch","headers","body","JSON","stringify","status","ok","json","message","redirect","$RefreshReg$"],"sources":["C:/Users/anton/Documents/react-project/new-react-frontend/frontend/src/components/EventForm.jsx"],"sourcesContent":["import { Form, useActionData, useNavigate, useNavigation} from 'react-router-dom';\n\nimport classes from './EventForm.module.css';\n\nfunction EventForm({ method, event }) {\n  const data = useActionData();\n  const navigate = useNavigate();\n  const navigation = useNavigation();\n\n  const isSubmitting = navigation.state===\"submitting\";\n \n  console.log(data);\n  function cancelHandler() {\n    navigate('..');\n  }\n  console.log(\"yo tengo una mente con 4 computadoras\")\n  \n  let url = \"http://localhost:8080/events\"\n  return (\n\n    <Form method={method} className={classes.form}>\n          {data && data.errors && <ul>\n      {Object.values(data.errors).map(err=>(\n      <li key={err}>\n        {err}\n      </li>))\n      }\n    </ul>}\n      <p>\n        <label htmlFor=\"title\">Title</label>\n        <input \n        id=\"title\" \n        type=\"text\" \n        name=\"title\" \n        required \n        defaultValue={event ? event.title : ''}\n        />\n      </p>\n      <p>\n        <label htmlFor=\"image\">Image</label>\n        <input \n        id=\"image\" \n        type=\"url\" \n        name=\"image\" \n        required \n        defaultValue={event ? event.image : ''}\n        />\n      </p>\n      <p>\n        <label htmlFor=\"date\">Date</label>\n        <input \n        id=\"date\" \n        type=\"date\" \n        name=\"date\" \n        required \n        defaultValue={event ? event.date : ''}\n        />\n      </p>\n      <p>\n        <label htmlFor=\"description\">Description</label>\n        <textarea \n        id=\"description\" \n        name=\"description\" \n        rows=\"5\" \n        required \n        defaultValue={event ? event.description : ''} \n        />\n      </p>\n      <div className={classes.actions}>\n        <button type=\"button\" onClick={cancelHandler} disabled = {isSubmitting}>\n          Cancel\n        </button>\n        <button disabled={isSubmitting}>{isSubmitting ? \"Submitting...\" : \"Save\"}</button>\n      </div>\n    </Form>\n  );\n}\n\nexport default EventForm;\n\nexport async function action({ request, params }) {\n  const method = method;\n  const data = await request.formData();\n\nconst eventData = {\n   title: data.get('title'),\n   image: data.get('image'),\n   date: data.get('date'),\n   description: data.get('description')\n}\nconst response = await fetch('http://localhost:8080/events', {\n   method: \"POST\",\n   headers: {\n       \"Content-Type\": \"application/json\"\n   },\n   body: JSON.stringify(eventData)\n});\n\nif(response.status ===422){\n   return response\n}\nif (!response.ok) {\n\n\n   throw json({ message: \"Could not save event\" }, { status: 500 })\n} \nreturn redirect('/events')\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}